CREATE TABLE IF NOT EXISTS CUSTOMER("ID" INTEGER not null PRIMARY KEY, "PNAME" VARCHAR(30) not null, "PASSWORD" VARCHAR(10) not null, "ADDRESS" VARCHAR(30) not null, "PHONE_NO" VARCHAR(10) not null );
CREATE TABLE IF NOT EXISTS BOOK ( "ID" INTEGER not null PRIMARY KEY, "TITLE" VARCHAR(60) not null, "AUTHOR" VARCHAR(50) not null, "SUBJECT" VARCHAR(20) not null, "IS_ISSUED" BOOLEAN not null );
CREATE TABLE IF NOT EXISTS BORROWER ( "B_ID" INTEGER not null PRIMARY KEY );
CREATE TABLE IF NOT EXISTS BORROWED_BOOK ( "BOOK" INTEGER not null PRIMARY KEY, "BORROWER" INTEGER not null );
CREATE TABLE IF NOT EXISTS LOAN ( "L_ID" INTEGER not null PRIMARY KEY, "BORROWER" INTEGER not null, "BOOK" INTEGER not null,  "ISS_DATE" TIMESTAMP not null,  "RET_DATE" TIMESTAMP , "FINE_PAID" BOOLEAN );
CREATE TABLE IF NOT EXISTS ON_HOLD_BOOK ( "REQ_ID" INTEGER not null PRIMARY KEY, "BOOK" INTEGER not null, "BORROWER" INTEGER not null, "REQ_DATE" DATE not null );
----------------------------------------FOREIGN KEY CONSTRAINTS----------------------------

ALTER TABLE BORROWED_BOOK ADD FOREIGN KEY (BORROWER)REFERENCES BORROWER(B_ID);
ALTER TABLE LOAN ADD FOREIGN KEY (BORROWER)REFERENCES BORROWER(B_ID);
ALTER TABLE ON_HOLD_BOOK ADD FOREIGN KEY (BORROWER)REFERENCES BORROWER(B_ID);
ALTER TABLE BORROWER ADD FOREIGN KEY (B_ID)REFERENCES CUSTOMER(ID);
-------------------------------------------------------------

INSERT INTO BOOK VALUES (1,'Adventures of Sherlock Holmes','Sir Arthur Conan Doyle','Fiction',false);
INSERT INTO BOOK VALUES (2,'Alice in the Wonderland','Lewis Carroll','Fiction',false);
INSERT INTO BOOK VALUES (3,'Harrypotter1','JK Rowling','Fiction',false);
INSERT INTO BOOK VALUES (4,'Harrypotter2','JK Rowling','Fiction',false);

INSERT INTO CUSTOMER VALUES (1,'Mohan','Mohan','Cross street',9944885678);
INSERT INTO CUSTOMER VALUES (2,'Ravi','Mohan','Nehru street',8944885678);
INSERT INTO CUSTOMER VALUES (3,'Raj','Mohan','Main street',9974885678);
INSERT INTO CUSTOMER VALUES (4,'Rahul','Mohan','Mini street',9944665698);
INSERT INTO CUSTOMER VALUES (5,'Arun','Mohan','Four lane street',9944888908);

INSERT INTO BORROWER VALUES(1);
INSERT INTO BORROWER VALUES(2);
INSERT INTO BORROWER VALUES(3);
INSERT INTO BORROWER VALUES(4);

INSERT INTO BORROWED_BOOK VALUES(1,2);
INSERT INTO BORROWED_BOOK VALUES(2,1);
INSERT INTO BORROWED_BOOK VALUES(3,4);

INSERT INTO LOAN VALUES (1,1,2,'2022-05-25 00:00:01','2022-06-01 00:00:01',false);
INSERT INTO LOAN VALUES (2,2,1,'2022-05-26 00:00:01','2022-06-02 00:00:01',false);
INSERT INTO LOAN VALUES (3,3,4,'2022-05-27 00:00:01','2022-06-03 00:00:01',false);





